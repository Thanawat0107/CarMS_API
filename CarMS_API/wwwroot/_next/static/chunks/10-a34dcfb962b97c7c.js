(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{559:(e,a,l)=>{"use strict";l.d(a,{D:()=>s,p:()=>r});let r="https://localhost:7001",s=r+"/api/"},1809:(e,a,l)=>{"use strict";l.d(a,{Ay:()=>b,HD:()=>u,L:()=>o,Mu:()=>d,bQ:()=>c,g7:()=>i});var r=l(404),s=l(4317),n=l(559);let t=(0,r.xP)({reducerPath:"brandApi",baseQuery:(0,s.cw)({baseUrl:n.D}),tagTypes:["Brand"],endpoints:e=>({getBrandAll:e.query({query:e=>({url:"brands/getall",method:"GET",params:e}),keepUnusedDataFor:300,transformResponse:async e=>{var a;return{result:null!=(a=e.result)?a:[],meta:e.meta}},providesTags:["Brand"]}),getBrandById:e.query({query:e=>({url:"brands/getbyid/".concat(e),method:"GET"}),keepUnusedDataFor:300,transformResponse:async e=>{if(e.result)return e.result;throw Error(e.message)},providesTags:(e,a,l)=>[{type:"Brand",brandId:l}]}),createBrand:e.mutation({query:e=>({url:"brands/create",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Brand"]}),updateBrand:e.mutation({query:e=>{let{formData:a,brandId:l}=e;return{url:"brands/update/".concat(l),method:"PUT",body:a}},transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Brand"]}),deleteBrand:e.mutation({query:e=>({url:"brands/delete/".concat(e),method:"PUT"}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Brand"]})})}),{useGetBrandAllQuery:i,useGetBrandByIdQuery:o,useCreateBrandMutation:d,useUpdateBrandMutation:u,useDeleteBrandMutation:c,usePrefetch:m}=t,b=t},2002:(e,a,l)=>{"use strict";l.d(a,{g:()=>r});let r=(e,a)=>Object.keys(e).filter(e=>!isNaN(Number(e))).map(l=>{let r=e[l];return{value:l,label:a[r]||r}})},2072:(e,a,l)=>{"use strict";l.d(a,{z:()=>s});var r=l(5155);let s=e=>{let{label:a,value:l,onChange:s,options:n,placeholder:t="ทั้งหมด"}=e;return(0,r.jsxs)("div",{className:"w-full mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("select",{className:"w-full border rounded-xl px-4 py-3 border-gray-300 focus:outline-neutral",value:l||"",onChange:e=>s(e.target.value),children:[(0,r.jsx)("option",{value:"",children:t}),n.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})})]})}},4614:(e,a,l)=>{"use strict";l.d(a,{F:()=>o});var r=l(5155),s=l(8749),n=l(2657),t=l(2115),i=l(7676);let o=e=>{let{label:a,name:l,type:o="text",value:d,onChange:u,onBlur:c,placeholder:m=" ",error:b,touched:p,required:g=!1,readOnly:x,disabled:h}=e,[v,j]=(0,t.useState)(!1),N="password"===o,y=N?v?"text":"password":o,f=b&&p;return(0,r.jsxs)("div",{className:"w-full mb-4",children:[(0,r.jsxs)("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 mb-1",children:[a,g&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:y,name:l,id:l,value:d,onChange:u,onBlur:c,placeholder:m,readOnly:x,disabled:h,className:(0,i.A)("w-full border rounded-xl px-4 py-3",f?"border-red-500 focus:outline-red-500":"border-gray-300 focus:outline-neutral",N&&"pr-12")}),N&&(0,r.jsx)("button",{type:"button",onClick:()=>j(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:bg-gray-100 rounded-full transition",children:v?(0,r.jsx)(s.A,{size:18}):(0,r.jsx)(n.A,{size:18})})]}),f&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:b})]})}},4874:(e,a,l)=>{"use strict";l.d(a,{default:()=>F});var r=l(5155),s=l(2115),n=l(5695),t=l(9694),i=l(4752),o=l.n(i),d=l(4149),u=l.n(d),c=l(5495),m=l(7864),b=l(559),p=l(7129);let g=p.Ik().shape({brandId:p.Yj().required("กรุณาเลือกยี่ห้อรถยนต์").nullable(),sellerId:p.ai().required("กรุณาเลือกผู้ขาย"),carRegistrationNumber:p.Yj().required("กรุณากรอกหมายเลขทะเบียนรถ"),carIdentificationNumber:p.Yj().nullable(),engineNumber:p.Yj().nullable(),model:p.Yj().required("กรุณากรอกรุ่นรถ"),year:p.ai().required("กรุณากรอกปีที่ผลิต"),price:p.ai().required("กรุณากรอกราคา"),reservationPrice:p.ai().min(0).required("กรุณาระบุราคามัดจำ"),mileage:p.ai().required("กรุณากรอกระยะทาง"),color:p.Yj().required("กรุณากรอกสี"),engineType:p.ai().required("กรุณาเลือกประเภทเครื่องยนต์"),gearType:p.ai().required("กรุณาเลือกประเภทเกียร์"),carType:p.ai().required("กรุณาเลือกประเภทของรถ"),status:p.ai().required("กรุณาเลือกสถานะ"),description:p.Yj().nullable(),imageFile:p.gl().nullable()}),x=p.Ik().shape({brandId:p.Yj().required("กรุณาเลือกยี่ห้อรถยนต์").nullable(),sellerId:p.ai().required("กรุณาเลือกผู้ขาย"),carRegistrationNumber:p.Yj().required("กรุณากรอกหมายเลขทะเบียนรถ"),carIdentificationNumber:p.Yj().nullable(),engineNumber:p.Yj().nullable(),model:p.Yj().required("กรุณากรอกรุ่นรถ"),year:p.ai().required("กรุณากรอกปีที่ผลิต"),price:p.ai().required("กรุณากรอกราคา"),reservationPrice:p.ai().min(0).required("กรุณาระบุราคามัดจำ"),mileage:p.ai().required("กรุณากรอกระยะทาง"),color:p.Yj().required("กรุณากรอกสี"),engineType:p.ai().required("กรุณาเลือกประเภทเครื่องยนต์"),gearType:p.ai().required("กรุณาเลือกประเภทเกียร์"),carType:p.ai().required("กรุณาเลือกประเภทของรถ"),status:p.ai().required("กรุณาเลือกสถานะ"),description:p.Yj().nullable(),imageFile:p.gl().nullable(),isUsed:p.zM().required(),isDeleted:p.zM().required()});var h=l(2072),v=l(2002),j=l(6980),N=l(1809),y=l(8386),f=l(1659),w=l(6934),C=l(816);let T=e=>{let{label:a,value:l,onChange:n,options:t,placeholder:i="เลือก..."}=e,o=t.find(e=>e.value===l);return(0,r.jsxs)("div",{className:"w-full",children:[a&&(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsx)(y.WF,{value:l,onChange:n,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(y.WF.Button,{className:"relative w-full cursor-pointer rounded-xl bg-white py-4 pl-5 pr-12 text-left shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg",children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(null==o?void 0:o.imageUrl)&&(0,r.jsx)("img",{src:o.imageUrl,className:"h-8 w-8 object-contain"}),(0,r.jsx)("span",{children:(null==o?void 0:o.label)||(0,r.jsx)("span",{className:"text-gray-400",children:i})})]}),(0,r.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,r.jsx)(w.A,{className:"h-6 w-6 text-gray-400"})})]}),(0,r.jsx)(f.e,{as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(y.WF.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:t.map(e=>(0,r.jsx)(y.WF.Option,{value:e.value,className:e=>{let{active:a}=e;return"relative cursor-pointer select-none py-2 pl-3 pr-10 ".concat(a?"bg-indigo-100 text-indigo-900":"text-gray-900")},children:a=>{let{selected:l}=a;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.imageUrl&&(0,r.jsx)("img",{src:e.imageUrl,alt:"",className:"h-5 w-5 object-cover rounded-full"}),(0,r.jsx)("span",{className:"".concat(l?"font-medium":"font-normal"),children:e.label}),l?(0,r.jsx)("span",{className:"absolute inset-y-0 right-3 flex items-center text-indigo-600",children:(0,r.jsx)(C.A,{className:"h-5 w-5"})}):null]})}},e.value))})})]})})]})};var k=l(4614);let S=u()(o()),q={brandId:"",sellerId:1,carRegistrationNumber:"",carIdentificationNumber:"",engineNumber:"",model:"",year:new Date().getFullYear(),price:0,reservationPrice:0,mileage:0,color:"",engineType:0,gearType:0,carType:0,status:0,description:"",imageFile:null};function F(){var e,a,l,i,o;let d=(0,n.useRouter)(),u=(0,n.useParams)(),p=null==u?void 0:u.id,y=!!p,{data:f,isLoading:w}=(0,m.Sb)(Number(p),{skip:!y}),{data:C}=(0,N.g7)({pageNumber:1,pageSize:100}),[F]=(0,m.$d)(),[U]=(0,m.iB)(),[D,P]=(0,s.useState)(null),[R,A]=(0,s.useState)({...q,isUsed:!1,isDeleted:!1});(0,s.useEffect)(()=>{if(y&&f){var e,a,l,r,s,n,t,i,o,d,u,c,m,b,p,g,x,h,v;A({brandId:null!=(a=null==(e=f.brandId)?void 0:e.toString())?a:"",sellerId:null!=(l=f.sellerId)?l:1,carRegistrationNumber:null!=(r=f.carRegistrationNumber)?r:"",carIdentificationNumber:null!=(s=f.carIdentificationNumber)?s:"",engineNumber:null!=(n=f.engineNumber)?n:"",model:null!=(t=f.model)?t:"",year:null!=(i=f.year)?i:new Date().getFullYear(),price:null!=(o=f.price)?o:0,reservationPrice:null!=(d=f.reservationPrice)?d:0,mileage:null!=(u=f.mileage)?u:0,color:null!=(c=f.color)?c:"",engineType:null!=(m=f.engineType)?m:0,gearType:null!=(b=f.gearType)?b:0,carType:null!=(p=f.carType)?p:0,status:null!=(g=f.status)?g:0,description:null!=(x=f.description)?x:"",imageFile:null,isUsed:null!=(h=f.isUsed)&&h,isDeleted:null!=(v=f.isDeleted)&&v})}},[y,f]),(0,s.useEffect)(()=>{y&&(null==f?void 0:f.imageUrl)&&P(b.p+f.imageUrl)},[y,null==f?void 0:f.imageUrl]);let I=async e=>{let a=new FormData;Object.entries(e).forEach(e=>{let[l,r]=e;if("imageFile"===l)return;let s="brandId"===l?Number(r).toString():String(null!=r?r:"");a.append(l,s)}),e.imageFile&&a.append("imageFile",e.imageFile),y?(await U({carId:Number(p),formData:a}).unwrap(),await Y("อัปเดตรถสำเร็จ")):(await F(a).unwrap(),await Y("เพิ่มรถสำเร็จ")),d.push("/manages/car")},Y=e=>S.fire({icon:"success",title:"สำเร็จ",text:e,timer:1500,showConfirmButton:!1}),B=(0,t.Wx)({enableReinitialize:!0,initialValues:R,validationSchema:y?x:g,onSubmit:I}),E=null!=(o=null==C?void 0:C.result.filter(e=>e.isUsed).map(e=>({value:e.id.toString(),label:e.name,imageUrl:b.p+e.imageUrl})))?o:[];return y&&w?(0,r.jsx)("p",{children:"กำลังโหลดข้อมูล..."}):(0,r.jsx)("div",{className:"min-h-screen bg-base-200 py-10 px-4",children:(0,r.jsx)("div",{className:"w-full max-w-7xl mx-auto bg-base-100 shadow-xl rounded-2xl overflow-hidden",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[(0,r.jsx)("div",{className:"bg-base-300 p-6 flex items-center justify-center",children:D?(0,r.jsx)("img",{src:D,alt:"Preview",className:"rounded-xl shadow w-full h-96 object-contain bg-white p-2"}):(0,r.jsx)("div",{className:"w-full h-96 flex items-center justify-center border border-dashed border-gray-400 rounded-xl",children:(0,r.jsx)("span",{className:"text-gray-500",children:"ไม่มีภาพ"})})}),(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:y?"แก้ไขรถยนต์":"เพิ่มรถยนต์คันใหม่"}),(0,r.jsxs)("form",{onSubmit:B.handleSubmit,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"ยี่ห้อรถยนต์"}),(0,r.jsx)(T,{value:B.values.brandId,onChange:e=>B.setFieldValue("brandId",e),options:E})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"เลขทะเบียนเดิมรถยนต์"}),(0,r.jsx)("input",{type:"text",name:"carRegistrationNumber",placeholder:"กรอกป้ายทะเบียน เช่น กค-8888 กทมท",value:B.values.carRegistrationNumber,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"หมายเลขตัวถัง (VIN) จำนวนของหมายเลขตัวถังทั้ง 17 หลัก"}),(0,r.jsx)("input",{type:"text",name:"carIdentificationNumber",placeholder:"กรอก เช่น MNBAXXMAWAFJ9***2",value:B.values.carIdentificationNumber,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"หมายเลขเครื่องยนต์ เริ่มต้นด้วยชื่อรหัสเครื่องยนต์ (เช่น 1NZ, HR15, 4JJ1)"}),(0,r.jsx)("input",{type:"text",name:"engineNumber",placeholder:"จำนวนไม่แน่นอน 7-12 หลัก 1NZ1234567",value:B.values.engineNumber,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"รุ่นรถ"}),(0,r.jsx)("input",{type:"text",name:"model",placeholder:"กรอกรุ่นรถ",value:B.values.model,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"ปีที่ผลิตรถ"}),(0,r.jsx)("input",{type:"number",name:"year",placeholder:"กรอกปีที่ผลิตรถ",value:B.values.year,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"ราคารถยนต์"}),(0,r.jsx)("input",{type:"number",name:"price",placeholder:"กรอกราคารถยนต์",value:B.values.price,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"ราคาจองรถยนต์"}),(0,r.jsx)(k.F,{name:"reservationPrice",placeholder:"กรอกราคาจองรถยนต์",value:B.values.reservationPrice,onChange:B.handleChange})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"เลขไมล์ (กม.)"}),(0,r.jsx)("input",{type:"number",name:"mileage",placeholder:"กรอกเลขไมล์",value:B.values.mileage,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"สีรถยนต์"}),(0,r.jsx)("input",{type:"text",name:"color",placeholder:"เช่น ขาว, ดำ",value:B.values.color,onChange:B.handleChange,className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"เครื่องยนต์"}),(0,r.jsx)(h.z,{value:null==(e=B.values.engineType)?void 0:e.toString(),onChange:e=>B.setFieldValue("engineType",""===e?void 0:Number(e)),options:(0,v.g)(c.p3,j._E)})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"เกียร์รถยนต์"}),(0,r.jsx)(h.z,{value:null==(a=B.values.gearType)?void 0:a.toString(),onChange:e=>B.setFieldValue("gearType",""===e?void 0:Number(e)),options:(0,v.g)(c.Uc,j.jb)})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"ประเภทรถยนต์"}),(0,r.jsx)(h.z,{value:null==(l=B.values.carType)?void 0:l.toString(),onChange:e=>B.setFieldValue("carType",""===e?void 0:Number(e)),options:(0,v.g)(c.P7,j.yx),placeholder:"เลือกประเภทรถของคุณ"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"สถานะรถ"}),(0,r.jsx)(h.z,{value:null==(i=B.values.status)?void 0:i.toString(),onChange:e=>B.setFieldValue("status",""===e?void 0:Number(e)),options:(0,v.g)(c.nW,j.Uj),placeholder:"เลือกสถานะรถ"})]}),(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"คำอธิบายเพิ่มเติม"}),(0,r.jsx)("textarea",{name:"description",rows:3,placeholder:"กรอกคำอธิบาย",value:B.values.description,onChange:B.handleChange,className:"textarea textarea-bordered w-full"})]}),y&&(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsxs)("label",{className:"label cursor-pointer",children:[(0,r.jsx)("span",{className:"label-text",children:"เปิดใช้งานรถคันนี้"}),(0,r.jsx)("input",{type:"checkbox",name:"isUsed",checked:B.values.isUsed,onChange:B.handleChange,className:"checkbox ml-2 mr-3"})]}),(0,r.jsxs)("label",{className:"label cursor-pointer mt-4",children:[(0,r.jsx)("span",{className:"label-text text-red-500",children:"ลบรถคันนี้"}),(0,r.jsx)("input",{type:"checkbox",name:"isDelete",checked:B.values.isDeleted,onChange:B.handleChange,className:"checkbox checkbox-error ml-2"})]})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"อัปโหลดภาพรถยนต์"}),(0,r.jsx)("input",{type:"file",name:"image",accept:"image/*",className:"file-input file-input-bordered w-full",onChange:e=>{var a;let l=(null==(a=e.currentTarget.files)?void 0:a[0])||null;if(B.setFieldValue("imageFile",l),l){let e=new FileReader;e.onloadend=()=>P(e.result),e.readAsDataURL(l)}else P(null)}})]}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary w-full",disabled:B.isSubmitting,children:y?"อัปเดตรถยนต์":"บันทึกรถยนต์"})})]})]})]})})})}},5316:(e,a,l)=>{"use strict";l.d(a,{A:()=>s});var r=l(5155);l(2115);let s=e=>{let{label:a="ค้นหา",value:l,onChange:s,placeholder:n}=e;return(0,r.jsxs)("div",{className:"w-full mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",placeholder:null!=n?n:a,className:"w-full border rounded-xl px-4 py-3 border-gray-300 focus:outline-neutral",value:l,onChange:e=>s(e.target.value)})})]})}},5495:(e,a,l)=>{"use strict";l.d(a,{P7:()=>t,Uc:()=>n,aG:()=>r,nW:()=>i,p3:()=>s});var r=function(e){return e.Role_Admin="admin",e.Role_Seller="seller",e.Role_Buyer="buyer",e}({}),s=function(e){return e[e.Gasoline=0]="Gasoline",e[e.Diesel=1]="Diesel",e[e.Electric=2]="Electric",e[e.Hybrid=3]="Hybrid",e}({}),n=function(e){return e[e.Manual=0]="Manual",e[e.Automatic=1]="Automatic",e}({}),t=function(e){return e[e.FourDoorSedan=0]="FourDoorSedan",e[e.PickUpTruck=1]="PickUpTruck",e[e.CarSUV=2]="CarSUV",e[e.CarVan=3]="CarVan",e}({}),i=function(e){return e[e.Available=0]="Available",e[e.Sold=1]="Sold",e[e.Reserved=2]="Reserved",e}({})},6980:(e,a,l)=>{"use strict";l.d(a,{Ay:()=>p,Uj:()=>b,_E:()=>u,jb:()=>c,yx:()=>m});var r=l(5155),s=l(4614),n=l(2072),t=l(5495),i=l(5316),o=l(2002);let d=[{value:"id",label:"ล่าสุด"},{value:"price",label:"ราคาต่ำ -> สูง"},{value:"price_desc",label:"ราคาสูง -> ต่ำ"},{value:"year",label:"ปีน้อย -> มาก"},{value:"yearDesc",label:"ปีมาก -> น้อย"},{value:"mileageAsc",label:"ไมล์น้อย -> มาก"},{value:"mileageDesc",label:"ไมล์มาก -> น้อย"}],u={Gasoline:"น้ำมันเบนซิน",Diesel:"ดีเซล",Electric:"ไฟฟ้า",Hybrid:"ลูกผสม"},c={Manual:"ด้วยมือ",Automatic:"อัตโนมัติ"},m={FourDoorSedan:"รถเก๋งสี่ประตู",PickUpTruck:"รถปิกอัพ",CarSUV:"รถยนต์ SUV",CarVan:"รถตู้"},b={Available:"มีอยู่",Sold:"ขายแล้ว",Reserved:"จองแล้ว"},p=e=>{var a,l,p,g;let{filters:x,setFilters:h,search:v,setSearch:j}=e,N=(e,a)=>{let l;"minPrice"===e||"maxPrice"===e||"minYear"===e||"maxYear"===e||"minMileage"===e||"maxMileage"===e?isNaN(l=""===a?void 0:Number(a))&&(l=void 0):l=a,h({...x,[e]:l,pageNumber:1})};return(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"\uD83D\uDD0D ค้นหารถยนต์"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>{h({pageNumber:1,pageSize:5}),j("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg shadow-sm",children:"♻️ รีเซต"}),(0,r.jsx)("button",{onClick:()=>h({...x,pageNumber:1}),className:"px-4 py-2 bg-primary hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm",children:"\uD83D\uDD0D ค้นหา"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(i.A,{value:v,onChange:j}),(0,r.jsx)(s.F,{label:"ราคาเริ่มต้น",type:"number",value:void 0!==x.minPrice?x.minPrice.toString():"",onChange:e=>N("minPrice",e.target.value)}),(0,r.jsx)(s.F,{label:"ราคาสูงสุด",type:"number",value:void 0!==x.maxPrice?x.maxPrice.toString():"",onChange:e=>N("maxPrice",e.target.value)}),(0,r.jsx)(s.F,{label:"ปีเริ่มต้น",type:"number",value:void 0!==x.minYear?x.minYear.toString():"",onChange:e=>N("minYear",e.target.value)}),(0,r.jsx)(s.F,{label:"ปีสูงสุด",type:"number",value:void 0!==x.maxYear?x.maxYear.toString():"",onChange:e=>N("maxYear",e.target.value)}),(0,r.jsx)(s.F,{label:"ไมล์ต่ำสุด",type:"number",value:void 0!==x.minMileage?x.minMileage.toString():"",onChange:e=>N("minMileage",e.target.value)}),(0,r.jsx)(s.F,{label:"ไมล์สูงสุด",type:"number",value:void 0!==x.maxMileage?x.maxMileage.toString():"",onChange:e=>N("maxMileage",e.target.value)}),(0,r.jsx)(n.z,{label:"ประเภทรถ",value:null==(a=x.carType)?void 0:a.toString(),onChange:e=>N("carType",""===e?void 0:Number(e)),options:(0,o.g)(t.P7,m)}),(0,r.jsx)(n.z,{label:"เครื่องยนต์",value:null==(l=x.engineType)?void 0:l.toString(),onChange:e=>N("engineType",""===e?void 0:Number(e)),options:(0,o.g)(t.p3,u)}),(0,r.jsx)(n.z,{label:"เกียร์",value:null==(p=x.gearType)?void 0:p.toString(),onChange:e=>N("gearType",""===e?void 0:Number(e)),options:(0,o.g)(t.Uc,c)}),(0,r.jsx)(n.z,{label:"สถานะ",value:null==(g=x.status)?void 0:g.toString(),onChange:e=>N("status",""===e?void 0:Number(e)),options:(0,o.g)(t.nW,b),placeholder:"เลือกสถานะรถ"}),(0,r.jsx)(n.z,{label:"เรียงตาม",value:x.sortBy,onChange:e=>N("sortBy",e),options:d.map(e=>({label:e.label,value:e.value}))})]})]})}},7864:(e,a,l)=>{"use strict";l.d(a,{$d:()=>d,Ay:()=>b,CW:()=>c,LQ:()=>i,Sb:()=>o,iB:()=>u});var r=l(404),s=l(4317),n=l(559);let t=(0,r.xP)({reducerPath:"carApi",baseQuery:(0,s.cw)({baseUrl:n.D}),tagTypes:["Car"],endpoints:e=>({getCarAll:e.query({query:e=>({url:"cars/getall",method:"GET",params:e}),keepUnusedDataFor:300,transformResponse:async e=>{var a;return{result:null!=(a=e.result)?a:[],meta:e.meta}},providesTags:["Car"]}),getCarById:e.query({query:e=>({url:"cars/getbyid/".concat(e),method:"GET"}),keepUnusedDataFor:300,transformResponse:async e=>{if(e.result)return e.result;throw Error(e.message)},providesTags:(e,a,l)=>[{type:"Car",carId:l}]}),createCar:e.mutation({query:e=>({url:"cars/create",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Car"]}),updateCar:e.mutation({query:e=>{let{formData:a,carId:l}=e;return{url:"cars/update/".concat(l),method:"PUT",body:a}},transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:(e,a,l)=>{let{carId:r}=l;return[{type:"Car",carId:r}]}}),deleteCar:e.mutation({query:e=>({url:"cars/delete/".concat(e),method:"PUT"}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Car"]})})}),{useGetCarAllQuery:i,useGetCarByIdQuery:o,useCreateCarMutation:d,useUpdateCarMutation:u,useDeleteCarMutation:c,usePrefetch:m}=t,b=t},8010:(e,a,l)=>{Promise.resolve().then(l.bind(l,4874))}}]);