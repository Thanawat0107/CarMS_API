"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{559:(e,a,r)=>{r.d(a,{D:()=>t,p:()=>l});let l="https://localhost:7001",t=l+"/api/"},2002:(e,a,r)=>{r.d(a,{g:()=>l});let l=(e,a)=>Object.keys(e).filter(e=>!isNaN(Number(e))).map(r=>{let l=e[r];return{value:r,label:a[l]||l}})},2072:(e,a,r)=>{r.d(a,{z:()=>t});var l=r(5155);let t=e=>{let{label:a,value:r,onChange:t,options:s,placeholder:n="ทั้งหมด"}=e;return(0,l.jsxs)("div",{className:"w-full mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("select",{className:"w-full border rounded-xl px-4 py-3 border-gray-300 focus:outline-neutral",value:r||"",onChange:e=>t(e.target.value),children:[(0,l.jsx)("option",{value:"",children:n}),s.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})})]})}},4614:(e,a,r)=>{r.d(a,{F:()=>o});var l=r(5155),t=r(8749),s=r(2657),n=r(2115),i=r(7676);let o=e=>{let{label:a,name:r,type:o="text",value:u,onChange:d,onBlur:m,placeholder:c=" ",error:g,touched:b,required:v=!1,readOnly:p,disabled:x}=e,[y,h]=(0,n.useState)(!1),j="password"===o,f=j?y?"text":"password":o,N=g&&b;return(0,l.jsxs)("div",{className:"w-full mb-4",children:[(0,l.jsxs)("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:[a,v&&(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:f,name:r,id:r,value:u,onChange:d,onBlur:m,placeholder:c,readOnly:p,disabled:x,className:(0,i.A)("w-full border rounded-xl px-4 py-3",N?"border-red-500 focus:outline-red-500":"border-gray-300 focus:outline-neutral",j&&"pr-12")}),j&&(0,l.jsx)("button",{type:"button",onClick:()=>h(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:bg-gray-100 rounded-full transition",children:y?(0,l.jsx)(t.A,{size:18}):(0,l.jsx)(s.A,{size:18})})]}),N&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:g})]})}},5316:(e,a,r)=>{r.d(a,{A:()=>t});var l=r(5155);r(2115);let t=e=>{let{label:a="ค้นหา",value:r,onChange:t,placeholder:s}=e;return(0,l.jsxs)("div",{className:"w-full mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("input",{type:"text",placeholder:null!=s?s:a,className:"w-full border rounded-xl px-4 py-3 border-gray-300 focus:outline-neutral",value:r,onChange:e=>t(e.target.value)})})]})}},5495:(e,a,r)=>{r.d(a,{P7:()=>n,Uc:()=>s,aG:()=>l,nW:()=>i,p3:()=>t});var l=function(e){return e.Role_Admin="admin",e.Role_Seller="seller",e.Role_Buyer="buyer",e}({}),t=function(e){return e[e.Gasoline=0]="Gasoline",e[e.Diesel=1]="Diesel",e[e.Electric=2]="Electric",e[e.Hybrid=3]="Hybrid",e}({}),s=function(e){return e[e.Manual=0]="Manual",e[e.Automatic=1]="Automatic",e}({}),n=function(e){return e[e.FourDoorSedan=0]="FourDoorSedan",e[e.PickUpTruck=1]="PickUpTruck",e[e.CarSUV=2]="CarSUV",e[e.CarVan=3]="CarVan",e}({}),i=function(e){return e[e.Available=0]="Available",e[e.Sold=1]="Sold",e[e.Reserved=2]="Reserved",e}({})},6980:(e,a,r)=>{r.d(a,{Ay:()=>b,Uj:()=>g,_E:()=>d,jb:()=>m,yx:()=>c});var l=r(5155),t=r(4614),s=r(2072),n=r(5495),i=r(5316),o=r(2002);let u=[{value:"id",label:"ล่าสุด"},{value:"price",label:"ราคาต่ำ -> สูง"},{value:"price_desc",label:"ราคาสูง -> ต่ำ"},{value:"year",label:"ปีน้อย -> มาก"},{value:"yearDesc",label:"ปีมาก -> น้อย"},{value:"mileageAsc",label:"ไมล์น้อย -> มาก"},{value:"mileageDesc",label:"ไมล์มาก -> น้อย"}],d={Gasoline:"น้ำมันเบนซิน",Diesel:"ดีเซล",Electric:"ไฟฟ้า",Hybrid:"ลูกผสม"},m={Manual:"ด้วยมือ",Automatic:"อัตโนมัติ"},c={FourDoorSedan:"รถเก๋งสี่ประตู",PickUpTruck:"รถปิกอัพ",CarSUV:"รถยนต์ SUV",CarVan:"รถตู้"},g={Available:"มีอยู่",Sold:"ขายแล้ว",Reserved:"จองแล้ว"},b=e=>{var a,r,b,v;let{filters:p,setFilters:x,search:y,setSearch:h}=e,j=(e,a)=>{let r;"minPrice"===e||"maxPrice"===e||"minYear"===e||"maxYear"===e||"minMileage"===e||"maxMileage"===e?isNaN(r=""===a?void 0:Number(a))&&(r=void 0):r=a,x({...p,[e]:r,pageNumber:1})};return(0,l.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 w-full",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"\uD83D\uDD0D ค้นหารถยนต์"}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>{x({pageNumber:1,pageSize:5}),h("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg shadow-sm",children:"♻️ รีเซต"}),(0,l.jsx)("button",{onClick:()=>x({...p,pageNumber:1}),className:"px-4 py-2 bg-primary hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm",children:"\uD83D\uDD0D ค้นหา"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,l.jsx)(i.A,{value:y,onChange:h}),(0,l.jsx)(t.F,{label:"ราคาเริ่มต้น",type:"number",value:void 0!==p.minPrice?p.minPrice.toString():"",onChange:e=>j("minPrice",e.target.value)}),(0,l.jsx)(t.F,{label:"ราคาสูงสุด",type:"number",value:void 0!==p.maxPrice?p.maxPrice.toString():"",onChange:e=>j("maxPrice",e.target.value)}),(0,l.jsx)(t.F,{label:"ปีเริ่มต้น",type:"number",value:void 0!==p.minYear?p.minYear.toString():"",onChange:e=>j("minYear",e.target.value)}),(0,l.jsx)(t.F,{label:"ปีสูงสุด",type:"number",value:void 0!==p.maxYear?p.maxYear.toString():"",onChange:e=>j("maxYear",e.target.value)}),(0,l.jsx)(t.F,{label:"ไมล์ต่ำสุด",type:"number",value:void 0!==p.minMileage?p.minMileage.toString():"",onChange:e=>j("minMileage",e.target.value)}),(0,l.jsx)(t.F,{label:"ไมล์สูงสุด",type:"number",value:void 0!==p.maxMileage?p.maxMileage.toString():"",onChange:e=>j("maxMileage",e.target.value)}),(0,l.jsx)(s.z,{label:"ประเภทรถ",value:null==(a=p.carType)?void 0:a.toString(),onChange:e=>j("carType",""===e?void 0:Number(e)),options:(0,o.g)(n.P7,c)}),(0,l.jsx)(s.z,{label:"เครื่องยนต์",value:null==(r=p.engineType)?void 0:r.toString(),onChange:e=>j("engineType",""===e?void 0:Number(e)),options:(0,o.g)(n.p3,d)}),(0,l.jsx)(s.z,{label:"เกียร์",value:null==(b=p.gearType)?void 0:b.toString(),onChange:e=>j("gearType",""===e?void 0:Number(e)),options:(0,o.g)(n.Uc,m)}),(0,l.jsx)(s.z,{label:"สถานะ",value:null==(v=p.status)?void 0:v.toString(),onChange:e=>j("status",""===e?void 0:Number(e)),options:(0,o.g)(n.nW,g),placeholder:"เลือกสถานะรถ"}),(0,l.jsx)(s.z,{label:"เรียงตาม",value:p.sortBy,onChange:e=>j("sortBy",e),options:u.map(e=>({label:e.label,value:e.value}))})]})]})}},7864:(e,a,r)=>{r.d(a,{$d:()=>u,Ay:()=>g,CW:()=>m,LQ:()=>i,Sb:()=>o,iB:()=>d});var l=r(404),t=r(4317),s=r(559);let n=(0,l.xP)({reducerPath:"carApi",baseQuery:(0,t.cw)({baseUrl:s.D}),tagTypes:["Car"],endpoints:e=>({getCarAll:e.query({query:e=>({url:"cars/getall",method:"GET",params:e}),keepUnusedDataFor:300,transformResponse:async e=>{var a;return{result:null!=(a=e.result)?a:[],meta:e.meta}},providesTags:["Car"]}),getCarById:e.query({query:e=>({url:"cars/getbyid/".concat(e),method:"GET"}),keepUnusedDataFor:300,transformResponse:async e=>{if(e.result)return e.result;throw Error(e.message)},providesTags:(e,a,r)=>[{type:"Car",carId:r}]}),createCar:e.mutation({query:e=>({url:"cars/create",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Car"]}),updateCar:e.mutation({query:e=>{let{formData:a,carId:r}=e;return{url:"cars/update/".concat(r),method:"PUT",body:a}},transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:(e,a,r)=>{let{carId:l}=r;return[{type:"Car",carId:l}]}}),deleteCar:e.mutation({query:e=>({url:"cars/delete/".concat(e),method:"PUT"}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Car"]})})}),{useGetCarAllQuery:i,useGetCarByIdQuery:o,useCreateCarMutation:u,useUpdateCarMutation:d,useDeleteCarMutation:m,usePrefetch:c}=n,g=n},9250:(e,a,r)=>{r.d(a,{A:()=>t});var l=r(5155);function t(e){let{pagination:a,onPageChange:r}=e,{pageNumber:t,pageCount:s}=a;return s<=1?null:(0,l.jsxs)("div",{className:"flex gap-2 mt-4 justify-center flex-wrap",children:[(0,l.jsx)("button",{className:"btn btn-sm join-item",disabled:1===t,onClick:()=>r(t-1),children:"ก่อนหน้า"}),Array.from({length:s},(e,a)=>a+1).map(e=>(0,l.jsx)("button",{onClick:()=>r(e),className:"btn btn-sm join-item ".concat(e===t?"btn-primary":"btn-outline"),children:e},e)),(0,l.jsx)("button",{className:"btn btn-sm join-item",disabled:t===s,onClick:()=>r(t+1),children:"ถัดไป"})]})}r(2115)},9658:(e,a,r)=>{r.d(a,{c:()=>l});let l={searchTerm:"",minPrice:void 0,maxPrice:void 0,minYear:void 0,maxYear:void 0,minMileage:void 0,maxMileage:void 0,color:"",engineType:void 0,gearType:void 0,carType:void 0,isUsed:void 0,isApproved:void 0,status:void 0,sellerId:void 0,brandId:void 0,carRegistrationNumber:"",carIdentificationNumber:"",engineNumber:"",sortBy:"id",pageNumber:1,pageSize:8}}}]);