(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{494:(e,t,r)=>{Promise.resolve().then(r.bind(r,8136))},559:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,p:()=>s});let s="https://localhost:7001",n=s+"/api/"},570:(e,t,r)=>{var s=r(4376),n=Object.prototype,a=n.hasOwnProperty,l=n.toString,i=s?s.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var s=!0}catch(e){}var n=l.call(e);return s&&(t?e[i]=r:delete e[i]),n}},771:(e,t,r)=>{var s=r(8233),n=r(8611);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==s(e)}},1809:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>h,HD:()=>u,L:()=>o,Mu:()=>c,bQ:()=>d,g7:()=>i});var s=r(404),n=r(4317),a=r(559);let l=(0,s.xP)({reducerPath:"brandApi",baseQuery:(0,n.cw)({baseUrl:a.D}),tagTypes:["Brand"],endpoints:e=>({getBrandAll:e.query({query:e=>({url:"brands/getall",method:"GET",params:e}),keepUnusedDataFor:300,transformResponse:async e=>{var t;return{result:null!=(t=e.result)?t:[],meta:e.meta}},providesTags:["Brand"]}),getBrandById:e.query({query:e=>({url:"brands/getbyid/".concat(e),method:"GET"}),keepUnusedDataFor:300,transformResponse:async e=>{if(e.result)return e.result;throw Error(e.message)},providesTags:(e,t,r)=>[{type:"Brand",brandId:r}]}),createBrand:e.mutation({query:e=>({url:"brands/create",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Brand"]}),updateBrand:e.mutation({query:e=>{let{formData:t,brandId:r}=e;return{url:"brands/update/".concat(r),method:"PUT",body:t}},transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Brand"]}),deleteBrand:e.mutation({query:e=>({url:"brands/delete/".concat(e),method:"PUT"}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Brand"]})})}),{useGetBrandAllQuery:i,useGetBrandByIdQuery:o,useCreateBrandMutation:c,useUpdateBrandMutation:u,useDeleteBrandMutation:d,usePrefetch:m}=l,h=l},2072:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var s=r(5155);let n=e=>{let{label:t,value:r,onChange:n,options:a,placeholder:l="ทั้งหมด"}=e;return(0,s.jsxs)("div",{className:"w-full mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("select",{className:"w-full border rounded-xl px-4 py-3 border-gray-300 focus:outline-neutral",value:r||"",onChange:e=>n(e.target.value),children:[(0,s.jsx)("option",{value:"",children:l}),a.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})})]})}},2500:(e,t,r)=>{var s=r(7985),n="object"==typeof self&&self&&self.Object===Object&&self;e.exports=s||n||Function("return this")()},4149:function(e,t,r){e.exports=function(e,t){"use strict";let r=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],s=()=>{};return function(n){function a(t){let s={},n={},a=r.map(e=>e.key);return Object.entries(t).forEach(t=>{let[r,l]=t;a.includes(r)&&e.isValidElement(l)?(s[r]=l,n[r]=" "):n[r]=l}),[s,n]}function l(e,s){Object.entries(s).forEach(s=>{let[a,l]=s,i=r.find(e=>e.key===a).getter(n),o=t.createRoot(i);o.render(l),e.__roots.push(o)})}function i(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends n{static argsToParams(t){if(!(e.isValidElement(t[0])||e.isValidElement(t[1])))return n.argsToParams(t);{let e={};return["title","html","icon"].forEach((r,s)=>{void 0!==t[s]&&(e[r]=t[s])}),e}}_main(e,t){this.__roots=[],this.__params=Object.assign({},t,e);let[r,n]=a(this.__params),o=n.willOpen||s,c=n.didOpen||s,u=n.didDestroy||s;return super._main(Object.assign({},n,{willOpen:e=>{l(this,r),o(e)},didOpen:e=>{setTimeout(()=>{c(e)})},didDestroy:e=>{u(e),i(this)}}))}update(e){Object.assign(this.__params,e),i(this);let[t,r]=a(this.__params);super.update(r),l(this,t)}}}}(r(2115),r(2669))},4217:(e,t,r)=>{var s=r(6713),n=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(n,""):e}},4376:(e,t,r)=>{e.exports=r(2500).Symbol},4439:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5316:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155);r(2115);let n=e=>{let{label:t="ค้นหา",value:r,onChange:n,placeholder:a}=e;return(0,s.jsxs)("div",{className:"w-full mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"text",placeholder:null!=a?a:t,className:"w-full border rounded-xl px-4 py-3 border-gray-300 focus:outline-neutral",value:r,onChange:e=>n(e.target.value)})})]})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},5964:(e,t,r)=>{var s=r(7460),n=r(6685),a=r(6815),l=Math.max,i=Math.min;e.exports=function(e,t,r){var o,c,u,d,m,h,x=0,f=!1,p=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var r=o,s=c;return o=c=void 0,x=t,d=e.apply(s,r)}function v(e){var r=e-h,s=e-x;return void 0===h||r>=t||r<0||p&&s>=u}function j(){var e,r,s,a=n();if(v(a))return y(a);m=setTimeout(j,(e=a-h,r=a-x,s=t-e,p?i(s,u-r):s))}function y(e){return(m=void 0,g&&o)?b(e):(o=c=void 0,d)}function N(){var e,r=n(),s=v(r);if(o=arguments,c=this,h=r,s){if(void 0===m)return x=e=h,m=setTimeout(j,t),f?b(e):d;if(p)return clearTimeout(m),m=setTimeout(j,t),b(h)}return void 0===m&&(m=setTimeout(j,t)),d}return t=a(t)||0,s(r)&&(f=!!r.leading,u=(p="maxWait"in r)?l(a(r.maxWait)||0,t):u,g="trailing"in r?!!r.trailing:g),N.cancel=function(){void 0!==m&&clearTimeout(m),x=0,o=h=c=m=void 0},N.flush=function(){return void 0===m?d:y(n())},N}},6685:(e,t,r)=>{var s=r(2500);e.exports=function(){return s.Date.now()}},6713:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},6815:(e,t,r)=>{var s=r(4217),n=r(7460),a=r(771),l=0/0,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return l;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var r=o.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):i.test(e)?l:+e}},7460:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7985:(e,t,r)=>{e.exports="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g},8136:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var s=r(5155),n=r(2115),a=r(1809),l=r(5695),i=r(5964),o=r.n(i),c=r(9250),u=r(4752),d=r.n(u),m=r(4149),h=r.n(m),x=r(8252),f=r(2072),p=r(5316);let g=e=>{let{filters:t,setFilters:r,search:n,setSearch:a}=e,l=(e,s)=>{r({...t,[e]:s,pageNumber:1})};return(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-700",children:"\uD83D\uDD0D ค้นหาแบรนด์รถยนต์"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>{r({pageNumber:1,pageSize:10,sortBy:"id"}),a("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg shadow-sm",children:"♻️ รีเซต"}),(0,s.jsx)("button",{onClick:()=>r({...t,pageNumber:1}),className:"px-4 py-2 bg-primary hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm",children:"\uD83D\uDD0D ค้นหา"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(p.A,{value:n,onChange:a}),(0,s.jsx)(f.z,{label:"สถานะการใช้งาน",value:void 0!==t.isUsed?String(t.isUsed):"",onChange:e=>l("isUsed",""===e?void 0:"true"===e),options:[{label:"ทั้งหมด",value:""},{label:"ปิดการใช้งาน",value:"false"},{label:"เปิดใช้งาน",value:"true"}]}),(0,s.jsx)(f.z,{label:"เรียงตาม",value:t.sortBy,onChange:e=>l("sortBy",e),options:[{label:"ค่าเริ่มต้น",value:"id"},{label:"ชื่อ (A-Z)",value:"name"},{label:"ชื่อ (Z-A)",value:"nameDesc"}]})]})]})};var b=r(559);let v=h()(d());function j(){var e;let[t,r]=(0,n.useState)(x.B),[i,u]=(0,n.useState)(""),d=(0,n.useMemo)(()=>o()(e=>{r(t=>({...t,searchTerm:e,pageNumber:1}))},500),[]);(0,n.useEffect)(()=>(d(i),()=>d.cancel()),[i]);let{data:m,error:h,isLoading:f}=(0,a.g7)(t),[p]=(0,a.bQ)(),j=(0,l.useRouter)(),y=e=>{j.push("/manages/brand/edit/"+e)},N=async e=>{if((await v.fire({title:"คุณแน่ใจหรือไม่?",text:"การลบแบรนด์นี้จะไม่สามารถกู้คืนได้!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"ใช่, ลบเลย!",cancelButtonText:"ยกเลิก"})).isConfirmed)try{await p(e).unwrap(),await v.fire("ลบแล้ว!","แบรนด์ถูกลบเรียบร้อยแล้ว","success")}catch(e){await v.fire("เกิดข้อผิดพลาด","ไม่สามารถลบแบรนด์ได้","error")}},w=null!=(e=null==m?void 0:m.result)?e:[],k=null==m?void 0:m.meta;return f?(0,s.jsx)("p",{className:"p-4 text-gray-500",children:"กำลังโหลด..."}):h?(0,s.jsx)("p",{className:"p-4 text-red-500",children:"เกิดข้อผิดพลาดในการโหลดแบรนด์"}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-10 px-4 md:px-10",children:(0,s.jsxs)("div",{className:"space-y-4 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,s.jsx)("button",{onClick:()=>j.push("/manages/brand/create"),className:"px-4 py-2 bg-primary hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm",children:"เพิ่มแบรนด์ใหม่"}),(0,s.jsx)(g,{filters:t,setFilters:r,search:i,setSearch:u})]}),(0,s.jsx)("div",{className:"overflow-x-auto w-full",children:(0,s.jsxs)("table",{className:"table w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-center",children:"ลำดับ"}),(0,s.jsx)("th",{className:"text-center",children:"ชื่อแบรนด์"}),(0,s.jsx)("th",{className:"text-center",children:"รูปภาพ"}),(0,s.jsx)("th",{className:"text-center",children:"การใช้งาน"}),(0,s.jsx)("th",{className:"text-center",children:"สถานะ"}),(0,s.jsx)("th",{className:"text-center",children:"จัดการ"})]})}),(0,s.jsx)("tbody",{children:w.map(e=>(0,s.jsxs)("tr",{className:"text-center align-middle",children:[(0,s.jsx)("td",{children:e.id}),(0,s.jsx)("td",{className:"font-medium",children:e.name||"-"}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"avatar flex justify-center",children:(0,s.jsx)("div",{className:"mask mask-squircle w-24 h-24",children:(0,s.jsx)("img",{src:e.imageUrl?"".concat(b.p).concat(e.imageUrl):"/placeholder.png",alt:"รูปภาพแบรนด์",className:"object-cover"})})})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"checkbox",checked:e.isUsed,className:"toggle toggle-success",readOnly:!0})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"badge ".concat(e.isDelete?"badge-error":"badge-success"),children:e.isDelete?"ลบแล้ว":"ปกติ"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,s.jsx)("button",{className:"btn btn-sm btn-outline btn-warning",onClick:()=>y(e.id),children:"แก้ไข"}),(0,s.jsx)("button",{className:"btn btn-sm btn-outline btn-error",onClick:()=>N(e.id),children:"ลบ"})]})})]},e.id))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-center",children:"ลำดับ"}),(0,s.jsx)("th",{className:"text-center",children:"ชื่อแบรนด์"}),(0,s.jsx)("th",{className:"text-center",children:"รูปภาพ"}),(0,s.jsx)("th",{className:"text-center",children:"การใช้งาน"}),(0,s.jsx)("th",{className:"text-center",children:"สถานะ"}),(0,s.jsx)("th",{className:"text-center",children:"จัดการ"})]})})]})}),k&&(0,s.jsx)(c.A,{pagination:k,onPageChange:e=>{r(t=>({...t,pageNumber:e}))}})]})})}},8233:(e,t,r)=>{var s=r(4376),n=r(570),a=r(4439),l=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?n(e):a(e)}},8252:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});let s={searchTerm:"",isUsed:void 0,sortBy:"id",pageNumber:1,pageSize:100}},8611:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},9250:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155);function n(e){let{pagination:t,onPageChange:r}=e,{pageNumber:n,pageCount:a}=t;return a<=1?null:(0,s.jsxs)("div",{className:"flex gap-2 mt-4 justify-center flex-wrap",children:[(0,s.jsx)("button",{className:"btn btn-sm join-item",disabled:1===n,onClick:()=>r(n-1),children:"ก่อนหน้า"}),Array.from({length:a},(e,t)=>t+1).map(e=>(0,s.jsx)("button",{onClick:()=>r(e),className:"btn btn-sm join-item ".concat(e===n?"btn-primary":"btn-outline"),children:e},e)),(0,s.jsx)("button",{className:"btn btn-sm join-item",disabled:n===a,onClick:()=>r(n+1),children:"ถัดไป"})]})}r(2115)}},e=>{var t=t=>e(e.s=t);e.O(0,[320,404,441,684,358],()=>t(494)),_N_E=e.O()}]);