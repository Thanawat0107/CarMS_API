(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382,566],{521:(e,s,r)=>{"use strict";r.d(s,{default:()=>b});var a=r(5155),t=r(2115),l=r(9694),n=r(5695),i=r(4752),d=r.n(i),u=r(4149),o=r.n(u),c=r(2227),m=r(3876);let h=o()(d()),p={userId:"",identityNumber:"",address:""};function b(){let e=(0,n.useRouter)(),s=(0,n.useParams)(),r=null==s?void 0:s.id,i=!!r,{data:d,isLoading:u}=(0,c.HN)(Number(r),{skip:!i}),[o]=(0,c.eU)(),[b]=(0,c.VO)(),[x,f]=(0,t.useState)({...p,isVerified:!1});(0,t.useEffect)(()=>{i&&d&&f({userId:d.userId||"",identityNumber:d.identityNumber||"",address:d.address||"",isVerified:d.isVerified})},[i,d]);let y=async s=>{if(i){let e={...s,id:Number(r)};await b({sellerId:e.id,sellerData:e}).unwrap(),await g("อัปเดตข้อมูลผู้ขายสำเร็จ")}else await o(s).unwrap(),await g("เพิ่มข้อมูลผู้ขายสำเร็จ");e.push("/manages/seller")},g=e=>h.fire({icon:"success",title:"สำเร็จ",text:e,timer:1500,showConfirmButton:!1}),N=(0,l.Wx)({enableReinitialize:!0,initialValues:x,validationSchema:m.d,onSubmit:y});return i&&u?(0,a.jsx)("p",{children:"กำลังโหลดข้อมูล..."}):(0,a.jsx)("div",{className:"min-h-screen bg-base-200 py-10 px-4",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto bg-base-100 shadow-xl rounded-2xl overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:i?"แก้ไขข้อมูลผู้ขาย":"เพิ่มข้อมูลผู้ขาย"}),(0,a.jsxs)("form",{onSubmit:N.handleSubmit,className:"space-y-5",children:[(0,a.jsx)("input",{type:"text",name:"userId",placeholder:"User ID",value:N.values.userId,onChange:N.handleChange,className:"input input-bordered w-full"}),(0,a.jsx)("input",{type:"text",name:"identityNumber",placeholder:"เลขบัตรประชาชน",value:N.values.identityNumber,onChange:N.handleChange,className:"input input-bordered w-full"}),(0,a.jsx)("textarea",{name:"address",placeholder:"ที่อยู่",value:N.values.address,onChange:N.handleChange,className:"textarea textarea-bordered w-full",rows:4}),i&&(0,a.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,a.jsxs)("label",{className:"label cursor-pointer",children:[(0,a.jsx)("span",{className:"label-text",children:"อนุญาติ"}),(0,a.jsx)("input",{type:"checkbox",name:"isVerified",checked:N.values.isVerified,onChange:N.handleChange,className:"checkbox ml-2 mr-3"})]})}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full",disabled:N.isSubmitting,children:i?"อัปเดตข้อมูล":"เพิ่มข้อมูล"})]})]})})})}},559:(e,s,r)=>{"use strict";r.d(s,{D:()=>t,p:()=>a});let a="https://localhost:7001",t=a+"/api/"},2227:(e,s,r)=>{"use strict";r.d(s,{Ay:()=>h,HN:()=>d,Hw:()=>c,Qs:()=>i,VO:()=>o,eU:()=>u});var a=r(404),t=r(4317),l=r(559);let n=(0,a.xP)({reducerPath:"sellerApi",baseQuery:(0,t.cw)({baseUrl:l.D}),tagTypes:["Seller"],endpoints:e=>({getSellerAll:e.query({query:e=>({url:"sellers/getall",method:"GET",params:e}),keepUnusedDataFor:300,transformResponse:async e=>{var s;return{result:null!=(s=e.result)?s:[],meta:e.meta}},providesTags:["Seller"]}),getSellerById:e.query({query:e=>({url:"sellers/getbyid/".concat(e),method:"GET"}),keepUnusedDataFor:300,transformResponse:async e=>{if(e.result)return e.result;throw Error(e.message)},providesTags:(e,s,r)=>[{type:"Seller",sellerId:r}]}),createSeller:e.mutation({query:e=>({url:"sellers/create",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Seller"]}),updateSeller:e.mutation({query:e=>{let{sellerId:s,sellerData:r}=e;return{url:"sellers/update/".concat(s),method:"PUT",body:r}},transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:(e,s,r)=>{let{sellerId:a}=r;return[{type:"Seller",sellerId:a}]}}),deleteSeller:e.mutation({query:e=>({url:"sellers/delete/".concat(e),method:"DELETE"}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Seller"]})})}),{useGetSellerAllQuery:i,useGetSellerByIdQuery:d,useCreateSellerMutation:u,useUpdateSellerMutation:o,useDeleteSellerMutation:c,usePrefetch:m}=n,h=n},3876:(e,s,r)=>{"use strict";r.d(s,{d:()=>a});let a=r(7129).Ik().shape({})},4760:(e,s,r)=>{Promise.resolve().then(r.bind(r,521))}},e=>{var s=s=>e(e.s=s);e.O(0,[320,404,34,441,684,358],()=>s(4760)),_N_E=e.O()}]);