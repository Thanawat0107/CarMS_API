(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{559:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,p:()=>l});let l="https://localhost:7001",a=l+"/api/"},2299:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var l=r(5155),a=r(5695),s=r(2476),n=r(4752),i=r.n(n),o=r(4149),u=r.n(o),d=r(7129);let c=d.Ik({userName:d.Yj().required("กรุณากรอกชื่อผู้ใช้"),fullName:d.Yj().required("กรุณากรอกชื่อ-นามสกุล"),email:d.Yj().email("รูปแบบอีเมลไม่ถูกต้อง").required("กรุณากรอกอีเมล"),phoneNumber:d.Yj().required("กรุณากรอกเบอร์โทร"),password:d.Yj().min(2,"รหัสผ่านต้องมีอย่างน้อย 6 ตัว").required("กรุณากรอกรหัสผ่าน"),confirmPassword:d.Yj().oneOf([d.KR("password")],"รหัสผ่านไม่ตรงกัน").required("กรุณายืนยันรหัสผ่าน")});var m=r(9694),h=r(4614);let p=u()(i());function f(){let e=(0,a.useRouter)(),[t]=(0,s.ge)(),r=(0,m.Wx)({initialValues:{userName:"",fullName:"",phoneNumber:"",email:"",password:"",role:"",confirmPassword:""},validationSchema:c,onSubmit:async(r,l)=>{let{setSubmitting:a}=l;try{let l={...r,createdAt:new Date().toISOString()};await t(l).unwrap(),await p.fire({icon:"success",title:"สมัครสมาชิกสำเร็จ",text:"คุณสามารถเข้าสู่ระบบได้แล้ว",confirmButtonText:"ไปหน้าเข้าสู่ระบบ"}),e.push("/login")}catch(e){var s;await p.fire({icon:"error",title:"เกิดข้อผิดพลาด",text:(null==e||null==(s=e.data)?void 0:s.message)||"สมัครไม่สำเร็จ"})}finally{a(!1)}}});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-center mb-6",children:"ลงทะเบียน"}),(0,l.jsxs)("form",{className:"space-y-4",onSubmit:r.handleSubmit,children:[[{label:"ชื่อผู้ใช้",name:"userName",type:"text",placeholder:"เช่น kengdev123"},{label:"ชื่อ-นามสกุล",name:"fullName",type:"text",placeholder:"เช่น เก่ง กล้าหาญ"},{label:"เบอร์โทรศัพท์",name:"phoneNumber",type:"tel",placeholder:"เช่น 0891234567"},{label:"อีเมล์",name:"email",type:"email",placeholder:"เช่น keng@example.com"},{label:"รหัสผ่าน",name:"password",type:"password",placeholder:"กรอกรหัสผ่านอย่างน้อย 6 ตัว"},{label:"ยืนยันรหัสผ่าน",name:"confirmPassword",type:"password",placeholder:"พิมพ์รหัสผ่านอีกครั้ง"}].map(e=>{let{label:t,name:a,type:s,placeholder:n}=e;return(0,l.jsx)(h.F,{label:t,name:a,type:s,value:r.values[a],onChange:r.handleChange,onBlur:r.handleBlur,error:r.errors[a],touched:r.touched[a],placeholder:n},a)}),(0,l.jsx)("button",{type:"submit",className:"btn btn-neutral w-full mt-2",disabled:r.isSubmitting,children:r.isSubmitting?"กำลังสมัคร...":"สมัครสมาชิก"})]})]})}function x(){let e=(0,a.useRouter)();return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-base-200 to-base-100 flex items-center justify-center px-4 pt-4 pb-4",children:(0,l.jsxs)("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-2xl flex flex-col lg:flex-row overflow-hidden",children:[(0,l.jsxs)("div",{className:"lg:w-1/2 bg-neutral text-white p-10 flex flex-col justify-center",children:[(0,l.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"ยินดีต้อนรับ!"}),(0,l.jsx)("p",{className:"mb-6 text-lg",children:"สมัครสมาชิกเพื่อเข้าถึงบริการสุดพิเศษจากเรา \uD83D\uDE80"}),(0,l.jsx)("button",{className:"btn btn-outline text-white",onClick:()=>e.push("/login"),children:"เข้าสู่ระบบ"})]}),(0,l.jsx)("div",{className:"lg:w-1/2 p-10",children:(0,l.jsx)(f,{})})]})})}},2476:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,_L:()=>o,ge:()=>i});var l=r(404),a=r(4317),s=r(559);let n=(0,l.xP)({reducerPath:"authApi",baseQuery:(0,a.cw)({baseUrl:s.D}),tagTypes:["Auth"],endpoints:e=>({register:e.mutation({query:e=>({url:"auth/register",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Auth"]}),login:e.mutation({query:e=>({url:"auth/login",method:"POST",body:e}),transformResponse:e=>{if(e.result)return e.result;throw Error(e.message)},invalidatesTags:["Auth"]})})}),{useRegisterMutation:i,useLoginMutation:o}=n,u=n},2657:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3099:(e,t,r)=>{Promise.resolve().then(r.bind(r,2299))},4614:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var l=r(5155),a=r(8749),s=r(2657),n=r(2115),i=r(7676);let o=e=>{let{label:t,name:r,type:o="text",value:u,onChange:d,onBlur:c,placeholder:m=" ",error:h,touched:p,required:f=!1,readOnly:x,disabled:b}=e,[g,w]=(0,n.useState)(!1),y="password"===o,j=y?g?"text":"password":o,N=h&&p;return(0,l.jsxs)("div",{className:"w-full mb-4",children:[(0,l.jsxs)("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:[t,f&&(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:j,name:r,id:r,value:u,onChange:d,onBlur:c,placeholder:m,readOnly:x,disabled:b,className:(0,i.A)("w-full border rounded-xl px-4 py-3",N?"border-red-500 focus:outline-red-500":"border-gray-300 focus:outline-neutral",y&&"pr-12")}),y&&(0,l.jsx)("button",{type:"button",onClick:()=>w(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:bg-gray-100 rounded-full transition",children:g?(0,l.jsx)(a.A,{size:18}):(0,l.jsx)(s.A,{size:18})})]}),N&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:h})]})}},7676:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=function(){for(var e,t,r=0,l="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,l,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(l=e(t[r]))&&(a&&(a+=" "),a+=l);else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}(e))&&(l&&(l+=" "),l+=t);return l}},8749:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var l=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,l.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:d="",children:c,iconNode:m,...h}=e;return(0,l.createElement)("svg",{ref:t,...u,width:a,height:a,stroke:r,strokeWidth:n?24*Number(s)/Number(a):s,className:i("lucide",d),...!c&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),c=(e,t)=>{let r=(0,l.forwardRef)((r,s)=>{let{className:o,...u}=r;return(0,l.createElement)(d,{ref:s,iconNode:t,className:i("lucide-".concat(a(n(e))),"lucide-".concat(e),o),...u})});return r.displayName=n(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[320,404,34,441,684,358],()=>t(3099)),_N_E=e.O()}]);